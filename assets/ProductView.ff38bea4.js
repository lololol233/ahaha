import{Q as h,a as x}from"./QForm.440978a6.js";import{Q as d}from"./QBtn.7faca946.js";import{u as b,r as m,O as V,a9 as w,ae as q,n as Q,a1 as B,z as s,a8 as i,d as o,q as l,x as C,af as S,ag as k,v as p}from"./index.739fefb5.js";import"./use-key-composition.e8bfb011.js";import"./Ripple.b8857d57.js";import"./use-size.20ba4e13.js";import"./render.bb05bb94.js";import"./QSpinner.adb6de04.js";import"./use-dark.51c8344e.js";import"./uid.42677368.js";const N={id:"product"},R={class:"row"},U={class:"col-12"},$=["src"],j={class:"text-center"},z={class:"col-12"},D={class:"pre"},E={class:"col-12"},F=["model-value"],W={__name:"ProductView",setup(I){const _=S(),n=k(),f=b(),{editCart:v}=f,g=m(!1),a=m(0),u={required(t){return!!t||"\u6B04\u4F4D\u5FC5\u586B"},number(t){return t>0||"\u6578\u91CF\u932F\u8AA4"}},e=V({_id:"",name:"",price:0,description:"",image:"",sell:!0,category:""}),y=()=>{!g.value||v({_id:e._id,quantity:a.value})};return(async()=>{try{const{data:t}=await w.get("/products/"+_.params.id);e._id=t.result._id,e.name=t.result.name,e.price=t.result.price,e.description=t.result.description,e.image=t.result.image,e.sell=t.result.sell,e.category=t.result.category,document.title="\u8CFC\u7269\u7DB2 | "+e.name}catch{q.exports.Swal.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u5546\u54C1\u5931\u6557"}),n.go(-1)}})(),(t,r)=>(Q(),B("div",N,[s("div",R,[s("div",U,[s("img",{src:e.image},null,8,$),s("h3",j,i(e.name),1)]),s("div",z,[s("p",null,"$"+i(e.price),1),s("p",D,i(e.description),1)]),s("div",E,[o(h,{onSubmit:y},{default:l(()=>[o(x,{modelValue:a.value,"onUpdate:modelValue":r[0]||(r[0]=c=>a.value=c),modelModifiers:{number:!0},type:"number",label:"\u6578\u91CF",rules:[u.required,u.number]},null,8,["modelValue","rules"]),o(d,{type:"submit",color:"primary"},{default:l(()=>[p("\u52A0\u5165\u8CFC\u7269\u8ECA")]),_:1})]),_:1})])]),s("div",{class:"align-center justify-center text-center",persistent:"persistent","model-value":!e.sell},[o(d,{onClick:r[1]||(r[1]=c=>C(n).go(-1))},{default:l(()=>[p("\u56DE\u4E0A\u9801")]),_:1})],8,F)]))}};export{W as default};
