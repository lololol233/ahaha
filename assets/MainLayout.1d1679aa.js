import{Q as $,a as A,b as L,c as q,d as M,e as P,f as r,g as j,h as D}from"./QLayout.a75981ca.js";import{i as U,j as x,r as k,k as K,c as f,w as y,l as E,h as Q,m as G,g as J,u as W,s as X,n as v,p as m,q as n,t as Y,d as o,v as R,x as i,y as b,z as Z}from"./index.a7c5c2a5.js";import{c as ee,h as te}from"./render.e5faaf9e.js";import"./Ripple.805d1d16.js";import"./use-size.6b9b6685.js";import"./uid.42677368.js";import"./scroll.8c08f3b5.js";var ae=ee({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(a,{slots:p,emit:u}){const{proxy:{$q:h}}=J(),t=U(G,x);if(t===x)return console.error("QFooter needs to be child of QLayout"),x;const c=k(parseInt(a.heightHint,10)),d=k(!0),w=k(K.value===!0||t.isContainer.value===!0?0:window.innerHeight),g=f(()=>a.reveal===!0||t.view.value.indexOf("F")>-1||h.platform.is.ios&&t.isContainer.value===!0),C=f(()=>t.isContainer.value===!0?t.containerHeight.value:w.value),V=f(()=>{if(a.modelValue!==!0)return 0;if(g.value===!0)return d.value===!0?c.value:0;const e=t.scroll.value.position+C.value+c.value-t.height.value;return e>0?e:0}),z=f(()=>a.modelValue!==!0||g.value===!0&&d.value!==!0),B=f(()=>a.modelValue===!0&&z.value===!0&&a.reveal===!0),F=f(()=>"q-footer q-layout__section--marginal "+(g.value===!0?"fixed":"absolute")+"-bottom"+(a.bordered===!0?" q-footer--bordered":"")+(z.value===!0?" q-footer--hidden":"")+(a.modelValue!==!0?" q-layout--prevent-focus"+(g.value!==!0?" hidden":""):"")),T=f(()=>{const e=t.rows.value.bottom,l={};return e[0]==="l"&&t.left.space===!0&&(l[h.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),e[2]==="r"&&t.right.space===!0&&(l[h.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),l});function s(e,l){t.update("footer",e,l)}function _(e,l){e.value!==l&&(e.value=l)}function N({height:e}){_(c,e),s("size",e)}function S(){if(a.reveal!==!0)return;const{direction:e,position:l,inflectionPoint:O}=t.scroll.value;_(d,e==="up"||l-O<100||t.height.value-C.value-l-c.value<300)}function I(e){B.value===!0&&_(d,!0),u("focusin",e)}y(()=>a.modelValue,e=>{s("space",e),_(d,!0),t.animate()}),y(V,e=>{s("offset",e)}),y(()=>a.reveal,e=>{e===!1&&_(d,a.modelValue)}),y(d,e=>{t.animate(),u("reveal",e)}),y([c,t.scroll,t.height],S),y(()=>h.screen.height,e=>{t.isContainer.value!==!0&&_(w,e)});const H={};return t.instances.footer=H,a.modelValue===!0&&s("size",c.value),s("space",a.modelValue),s("offset",V.value),E(()=>{t.instances.footer===H&&(t.instances.footer=void 0,s("size",0),s("offset",0),s("space",!1))}),()=>{const e=te(p.default,[Q($,{debounce:0,onResize:N})]);return a.elevated===!0&&e.push(Q("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),Q("footer",{class:F.value,style:T.value,onFocusin:I},e)}}});const oe=Z("img",{src:"https://cdn.quasar.dev/logo-v2/svg/logo-mono-white.svg"},null,-1),de={__name:"MainLayout",setup(a){const p=W(),{isLogin:u,isAdmin:h,cart:t}=X(p),{logout:c}=p;return(d,w)=>{const g=Y("router-view");return v(),m(A,{view:"hHh lpR fFf"},{default:n(()=>[o(j,{class:"bg-primary text-secondary h1","height-hint":"98"},{default:n(()=>[o(L,null,{default:n(()=>[o(q,null,{default:n(()=>[o(M,null,{default:n(()=>[oe]),_:1}),R(" Dostoevsky Library ")]),_:1})]),_:1}),o(P,{align:"right"},{default:n(()=>[o(r,{to:"/home",label:"Home"}),o(r,{to:"/intro",label:"Intro"}),o(r,{to:"/news",label:"news"}),o(r,{to:"/reading",label:"Reading"}),o(r,{to:"/items",label:"Items"}),i(u)?(v(),m(r,{key:0,to:"/orders",label:"Orders"})):b("",!0),i(u)?(v(),m(r,{key:1,content:i(t),to:"/cart",label:"Cart"},null,8,["content"])):b("",!0),i(u)?b("",!0):(v(),m(r,{key:2,to:"/register",label:"Sign up"})),i(u)?b("",!0):(v(),m(r,{key:3,to:"/login",label:"Login"})),i(u)&&i(h)?(v(),m(r,{key:4,to:"/admin",label:"Admin"})):b("",!0),i(u)?(v(),m(r,{key:5,onClick:i(c),label:"Logout"},null,8,["onClick"])):b("",!0)]),_:1})]),_:1}),o(D,null,{default:n(()=>[o(g)]),_:1}),o(ae,{reveal:"",elevated:"",style:{"background-color":"#202221",color:"#f4ece1","text-align":"center","font-size":"12px !important"}},{default:n(()=>[o(L,null,{default:n(()=>[o(q,null,{default:n(()=>[R("Dostoevsky@c")]),_:1})]),_:1})]),_:1})]),_:1})}}};export{de as default};
