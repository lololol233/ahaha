import{Q as h,a as b}from"./QForm.6f39e1f1.js";import{Q as u}from"./QBtn.f71102c6.js";import{u as x,r as d,N as w,ad as V,ai as k,j as q,a1 as B,q as s,ac as _,d as o,l as i,n as C,aj as Q,ak as N,ab as m}from"./index.4ba49bdc.js";import"./use-key-composition.0fa064b2.js";import"./Ripple.7f3a7b6e.js";import"./render.a7360d06.js";import"./use-dark.904bdc82.js";import"./uid.42677368.js";const S={id:"product"},j={class:"row"},M={class:"col-12"},T={class:"text-center"},H={class:"row"},L={class:"col-lg-6 col-sm-12"},P=["src"],R={class:"col-lg-6 col-sm-12"},U=["innerHTML"],$={class:"col-12"},A=["model-value"],W={__name:"ProductView",setup(D){const p=Q(),l=N(),v=x(),{editCart:g}=v,f=d(!1),a=d(0),n={required(t){return!!t||"\u6B04\u4F4D\u5FC5\u586B"},number(t){return t>0||"\u6578\u91CF\u932F\u8AA4"}},e=w({_id:"",name:"",price:0,description:"",image:"",sell:!0,category:""}),y=()=>{!f.value||g({_id:e._id,quantity:a.value})};return(async()=>{try{const{data:t}=await V.get("/products/"+p.params.id);e._id=t.result._id,e.name=t.result.name,e.price=t.result.price,e.description=t.result.description,e.image=t.result.image,e.sell=t.result.sell,e.category=t.result.category,document.title="\u8CFC\u7269\u7DB2 | "+e.name}catch{k.exports.Swal.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u5546\u54C1\u5931\u6557"}),l.go(-1)}})(),(t,r)=>(q(),B("div",S,[s("div",j,[s("div",M,[s("h3",T,_(e.name),1),s("div",H,[s("div",L,[s("img",{src:e.image},null,8,P)]),s("div",R,[s("h4",null,"$"+_(e.price),1),s("div",{innerHTML:e.description},null,8,U)])]),s("div",$,[o(h,{onSubmit:y},{default:i(()=>[o(b,{modelValue:a.value,"onUpdate:modelValue":r[0]||(r[0]=c=>a.value=c),modelModifiers:{number:!0},type:"number",label:"\u6578\u91CF",rules:[n.required,n.number]},null,8,["modelValue","rules"]),o(u,{type:"submit",color:"primary"},{default:i(()=>[m("Add Cart")]),_:1})]),_:1})])])]),s("div",{class:"align-center justify-center text-center",persistent:"persistent","model-value":!e.sell},[o(u,{onClick:r[1]||(r[1]=c=>C(l).go(-1))},{default:i(()=>[m("Go Back")]),_:1})],8,A)]))}};export{W as default};
