import{Q as u,a as f}from"./QTable.eb61b969.js";import{a1 as h,O as w,ao as g,ae as v,j as i,k as o,m as a,d as c,l as d,F as _,af as y,ac as b,a3 as x,a4 as I}from"./index.ed43af46.js";import"./render.2a3052e7.js";import"./Ripple.ff1a089e.js";import"./use-dark.67e2047a.js";import"./scroll.fd9ba671.js";import"./use-key-composition.85e976d2.js";import"./QBtn.42928f86.js";import"./uid.42677368.js";import"./use-fullscreen.fe4458d2.js";const p=r=>(x("data-v-404e459c"),r=r(),I(),r),S=p(()=>a("div",{id:"orders"},null,-1)),D={class:"row"},O=p(()=>a("div",{class:"col-12"},[a("h3",{class:"title"},"Orders Management")],-1)),V={class:"col-10"},k={__name:"OrdersView",setup(r){const m=[{name:"id",label:"ID",field:e=>e._id,align:"center"},{name:"u_id",label:"U_ID",field:e=>e.u_id.account,align:"center"},{name:"date",label:"\u65E5\u671F",field:e=>new Date(e.date).toLocaleDateString(),align:"center"},{name:"price",label:"\u91D1\u984D",field:e=>e.totalPrice,align:"center"},{name:"name",label:"\u5546\u54C1",field:e=>e,align:"center"}],n=w([]);return(async()=>{try{const{data:e}=await g.get("/orders/all");n.push(...e.result.map(s=>(s.totalPrice=s.products.reduce((l,t)=>l+t.p_id.price*t.quantity,0),s)))}catch{v.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u8A02\u55AE\u5931\u6557"})}})(),(e,s)=>(i(),o(_,null,[S,a("div",D,[O,a("div",V,[c(u,{rows:n,columns:m},{"body-cell-name":d(l=>[c(f,null,{default:d(()=>[a("ul",null,[(i(!0),o(_,null,y(l.row.products,t=>(i(),o("li",{key:t._id},[a("p",null,b(t.quantity+" \u500B "+t.p_id.name),1)]))),128))])]),_:2},1024)]),_:1},8,["rows"])])])],64))}};var C=h(k,[["__scopeId","data-v-404e459c"]]);export{C as default};
