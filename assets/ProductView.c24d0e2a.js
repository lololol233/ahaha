import{Q as h,a as b}from"./QForm.079347a5.js";import{Q as u}from"./QBtn.a5e0a354.js";import{u as x,r as d,O as w,ad as V,ai as k,j as B,k as C,m as s,ac as _,d as o,l as i,p as Q,aj as q,ak as S,ab as m}from"./index.cdb24b33.js";import"./use-key-composition.969cea51.js";import"./Ripple.55575af3.js";import"./render.92d42912.js";import"./use-dark.de213629.js";import"./uid.42677368.js";const j={id:"product"},M={class:"row"},N={class:"col-12"},T={class:"text-center product-title"},H={class:"row"},L={class:"col-lg-6 col-sm-12"},P={class:"product-img"},R=["src"],U={class:"col-lg-6 col-sm-12"},$=["innerHTML"],A={class:"col-12"},D=["model-value"],X={__name:"ProductView",setup(E){const p=q(),l=S(),v=x(),{editCart:g}=v,f=d(!1),a=d(0),c={required(t){return!!t||"\u6B04\u4F4D\u5FC5\u586B"},number(t){return t>0||"\u6578\u91CF\u932F\u8AA4"}},e=w({_id:"",name:"",price:0,description:"",image:"",sell:!0,category:""}),y=()=>{!f.value||g({_id:e._id,quantity:a.value})};return(async()=>{try{const{data:t}=await V.get("/products/"+p.params.id);e._id=t.result._id,e.name=t.result.name,e.price=t.result.price,e.description=t.result.description,e.image=t.result.image,e.sell=t.result.sell,e.category=t.result.category,document.title="\u8CFC\u7269\u7DB2 | "+e.name}catch{k.exports.Swal.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u5546\u54C1\u5931\u6557"}),l.go(-1)}})(),(t,r)=>(B(),C("div",j,[s("div",M,[s("div",N,[s("h3",T,_(e.name),1),s("div",H,[s("div",L,[s("div",P,[s("img",{src:e.image},null,8,R)])]),s("div",U,[s("h4",null,"$"+_(e.price),1),s("div",{innerHTML:e.description},null,8,$)])]),s("div",A,[o(h,{onSubmit:y},{default:i(()=>[o(b,{modelValue:a.value,"onUpdate:modelValue":r[0]||(r[0]=n=>a.value=n),modelModifiers:{number:!0},type:"number",label:"\u6578\u91CF",rules:[c.required,c.number]},null,8,["modelValue","rules"]),o(u,{type:"submit",color:"primary"},{default:i(()=>[m("Add Cart")]),_:1})]),_:1})])])]),s("div",{class:"align-center justify-center text-center",persistent:"persistent","model-value":!e.sell},[o(u,{onClick:r[1]||(r[1]=n=>Q(l).go(-1))},{default:i(()=>[m("Go Back")]),_:1})],8,D)]))}};export{X as default};
