import{Q as f,a as g}from"./QForm.5fa1e121.js";import{Q as h}from"./QBtn.30a6edbd.js";import{u as y,r as c,O as w,a9 as x,ae as b,n as V,a1 as q,z as s,a8 as N,d as a,q as u,x as Q,af as B,ag as C,v as S}from"./index.a7c5c2a5.js";import"./use-key-composition.44e48d2e.js";import"./Ripple.805d1d16.js";import"./use-size.6b9b6685.js";import"./render.e5faaf9e.js";import"./QSpinner.51b06e69.js";import"./use-dark.6b8c6f37.js";import"./uid.42677368.js";const k={id:"New"},M={class:"row"},T={class:"col-12"},H={class:"text-center"},L={class:"col-12"},R=["src"],U={class:"col-12"},j=["innerHTML"],z={class:"col-12"},A=["model-value"],X={__name:"ArticleView",setup(D){const d=B(),i=C(),m=y(),{editCart:_}=m,p=c(!1),o=c(0),n={required(t){return!!t||"\u6B04\u4F4D\u5FC5\u586B"},number(t){return t>0||"\u6578\u91CF\u932F\u8AA4"}},e=w({_id:"",name:"",description:"",image:"",sell:!0,category:""}),v=()=>{!p.value||_({_id:e._id,quantity:o.value})};return(async()=>{try{const{data:t}=await x.get("/news/"+d.params.id);e._id=t.result._id,e.name=t.result.name,e.description=t.result.description,e.image=t.result.image,e.sell=t.result.sell,e.category=t.result.category,document.title="\u8CFC\u7269\u7DB2 | "+e.name}catch{b.exports.Swal.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u6587\u7AE0\u5931\u6557"}),i.go(-1)}})(),(t,r)=>(V(),q("div",k,[s("div",M,[s("div",T,[s("h1",H,N(e.name),1)]),s("div",L,[s("img",{src:e.image},null,8,R)]),s("div",U,[s("div",{innerHTML:e.description},null,8,j)]),s("div",z,[a(f,{onSubmit:v},{default:u(()=>[a(g,{modelValue:o.value,"onUpdate:modelValue":r[0]||(r[0]=l=>o.value=l),modelModifiers:{number:!0},type:"number",label:"\u6578\u91CF",rules:[n.required,n.number]},null,8,["modelValue","rules"])]),_:1})])]),s("div",{class:"align-center justify-center text-center",persistent:"persistent","model-value":!e.sell},[a(h,{onClick:r[1]||(r[1]=l=>Q(i).go(-1))},{default:u(()=>[S("\u56DE\u4E0A\u9801")]),_:1})],8,A)]))}};export{X as default};
